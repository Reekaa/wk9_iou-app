{"ast":null,"code":"var _jsxFileName = \"/Users/a9886177/Desktop/codeclan_work/week_09/project_iou/iou_app_frontend/src/components/MainPage/Dropdowns/SubmitButt.js\";\nimport React from 'react';\n\nconst SubmitButt = props => {\n  const handleSubmit = () => {\n    props.object.tasks.map(task => {\n      if (task.task === props.object.selected.task) {\n        let newTask = task;\n        newTask.whoFor = props.object.selected.user;\n        newTask.karma = props.object.selected.cost * task.value;\n        newTask.date = new Date();\n        newTask.cost = {\n          hours: props.object.selected.cost\n        };\n        let whoFor = {};\n\n        for (let user of props.object.users) {\n          if (user.name === props.object.selected.user) {\n            whoFor = user;\n          }\n        }\n\n        props.object.addKarmaToUser(whoFor, 0 - newTask.karma);\n        props.object.addKarmaToUser(props.object.currentUser, newTask.karma, props.object.currentUser);\n        props.object.addTaskToUser(props.object.currentUser, newTask);\n        props.object.changeConfirm(true);\n      }\n    });\n    props.updateTaskButton('Select Task');\n    props.updateUserButton('Select User');\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"button\", {\n    onClick: () => {\n      handleSubmit();\n    },\n    id: \"submitbutt\",\n    type: \"button\",\n    className: \"btn btn-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"Add Task\"));\n};\n\nexport default SubmitButt;","map":{"version":3,"sources":["/Users/a9886177/Desktop/codeclan_work/week_09/project_iou/iou_app_frontend/src/components/MainPage/Dropdowns/SubmitButt.js"],"names":["React","SubmitButt","props","handleSubmit","object","tasks","map","task","selected","newTask","whoFor","user","karma","cost","value","date","Date","hours","users","name","addKarmaToUser","currentUser","addTaskToUser","changeConfirm","updateTaskButton","updateUserButton"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAC5B,QAAMC,YAAY,GAAG,MAAM;AACzBD,IAAAA,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmBC,GAAnB,CAAwBC,IAAD,IAAU;AAC/B,UAAIA,IAAI,CAACA,IAAL,KAAcL,KAAK,CAACE,MAAN,CAAaI,QAAb,CAAsBD,IAAxC,EAA8C;AAC5C,YAAIE,OAAO,GAAGF,IAAd;AACAE,QAAAA,OAAO,CAACC,MAAR,GAAiBR,KAAK,CAACE,MAAN,CAAaI,QAAb,CAAsBG,IAAvC;AACAF,QAAAA,OAAO,CAACG,KAAR,GAAgBV,KAAK,CAACE,MAAN,CAAaI,QAAb,CAAsBK,IAAtB,GAA6BN,IAAI,CAACO,KAAlD;AACAL,QAAAA,OAAO,CAACM,IAAR,GAAe,IAAIC,IAAJ,EAAf;AACAP,QAAAA,OAAO,CAACI,IAAR,GAAe;AAACI,UAAAA,KAAK,EAAEf,KAAK,CAACE,MAAN,CAAaI,QAAb,CAAsBK;AAA9B,SAAf;AACA,YAAIH,MAAM,GAAG,EAAb;;AACA,aAAK,IAAIC,IAAT,IAAiBT,KAAK,CAACE,MAAN,CAAac,KAA9B,EAAqC;AACnC,cAAIP,IAAI,CAACQ,IAAL,KAAcjB,KAAK,CAACE,MAAN,CAAaI,QAAb,CAAsBG,IAAxC,EAA8C;AAC5CD,YAAAA,MAAM,GAAGC,IAAT;AACD;AACF;;AACDT,QAAAA,KAAK,CAACE,MAAN,CAAagB,cAAb,CAA4BV,MAA5B,EAAqC,IAAID,OAAO,CAACG,KAAjD;AACAV,QAAAA,KAAK,CAACE,MAAN,CAAagB,cAAb,CAA4BlB,KAAK,CAACE,MAAN,CAAaiB,WAAzC,EAAsDZ,OAAO,CAACG,KAA9D,EAAqEV,KAAK,CAACE,MAAN,CAAaiB,WAAlF;AACAnB,QAAAA,KAAK,CAACE,MAAN,CAAakB,aAAb,CAA2BpB,KAAK,CAACE,MAAN,CAAaiB,WAAxC,EAAqDZ,OAArD;AACAP,QAAAA,KAAK,CAACE,MAAN,CAAamB,aAAb,CAA2B,IAA3B;AACD;AACF,KAlBD;AAmBArB,IAAAA,KAAK,CAACsB,gBAAN,CAAuB,aAAvB;AACAtB,IAAAA,KAAK,CAACuB,gBAAN,CAAuB,aAAvB;AACD,GAtBD;;AAwBA,SACE,0CACE;AAAQ,IAAA,OAAO,EAAI,MAAM;AAACtB,MAAAA,YAAY;AAAG,KAAzC;AAA0C,IAAA,EAAE,EAAC,YAA7C;AAA0D,IAAA,IAAI,EAAC,QAA/D;AAAwE,IAAA,SAAS,EAAC,iBAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CADF;AAKD,CA9BD;;AAgCA,eAAeF,UAAf","sourcesContent":["import React from 'react'\n\nconst SubmitButt = (props) => {\n  const handleSubmit = () => {\n    props.object.tasks.map((task) => {\n      if (task.task === props.object.selected.task) {\n        let newTask = task\n        newTask.whoFor = props.object.selected.user\n        newTask.karma = props.object.selected.cost * task.value\n        newTask.date = new Date();\n        newTask.cost = {hours: props.object.selected.cost}\n        let whoFor = {};\n        for (let user of props.object.users) {\n          if (user.name === props.object.selected.user) {\n            whoFor = user\n          }\n        }\n        props.object.addKarmaToUser(whoFor, (0 - newTask.karma))\n        props.object.addKarmaToUser(props.object.currentUser, newTask.karma, props.object.currentUser)\n        props.object.addTaskToUser(props.object.currentUser, newTask)\n        props.object.changeConfirm(true)\n      }\n    })\n    props.updateTaskButton('Select Task')\n    props.updateUserButton('Select User')\n  }\n\n  return(\n    <>\n      <button onClick = {() => {handleSubmit()}}id='submitbutt' type=\"button\" className=\"btn btn-primary\">Add Task</button>\n    </>\n  )\n}\n\nexport default SubmitButt\n"]},"metadata":{},"sourceType":"module"}