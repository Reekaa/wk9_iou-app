{"ast":null,"code":"import { connect } from \"react-redux\";\nimport LoginMiddle from '../components/MainPage/LoginMiddle.js';\n\nconst mapDispatchToProps = dispatch => ({\n  setGroupUsers(groupUsers) {\n    dispatch({\n      type: 'SET_GROUP_USERS',\n      groupUsers\n    });\n  },\n\n  getCurrentUser(name, users) {\n    dispatch(() => {\n      fetch(\"http://localhost:3000/api/users/\".concat(name)).then(response => response.json()).then(currentUser => {\n        console.log(currentUser);\n        dispatch({\n          type: 'SET_CURRENT_USER',\n          currentUser\n        });\n        return currentUser;\n      }).then(currentUser => {\n        if (currentUser.groups) {\n          console.log('current user exists');\n          const groupUsers = users.filter(user => {\n            return user.groups[0].groupName === currentUser.groups[0].groupName;\n          });\n          dispatch({\n            type: 'SET_GROUP_USERS',\n            groupUsers\n          });\n        }\n      });\n    });\n  },\n\n  setCurrentUser(currentUser) {\n    dispatch({\n      type: 'SET_CURRENT_USER',\n      currentUser\n    });\n  }\n\n});\n\nconst mapStateToProps = state => {\n  return {\n    users: state.users,\n    currentUser: state.currentUser\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginMiddle);","map":{"version":3,"sources":["/Users/a9886177/Desktop/codeclan_work/week_09/project_iou/iou_app_frontend/src/containers/LoginFormContainer.js"],"names":["connect","LoginMiddle","mapDispatchToProps","dispatch","setGroupUsers","groupUsers","type","getCurrentUser","name","users","fetch","then","response","json","currentUser","console","log","groups","filter","user","groupName","setCurrentUser","mapStateToProps","state"],"mappings":"AAAA,SAASA,OAAT,QAAwB,aAAxB;AACA,OAAOC,WAAP,MAAwB,uCAAxB;;AAEA,MAAMC,kBAAkB,GAAGC,QAAQ,KAAK;AACtCC,EAAAA,aAAa,CAACC,UAAD,EAAa;AACxBF,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAE,iBADC;AAEPD,MAAAA;AAFO,KAAD,CAAR;AAID,GANqC;;AAOtCE,EAAAA,cAAc,CAACC,IAAD,EAAOC,KAAP,EAAc;AAC1BN,IAAAA,QAAQ,CAAE,MAAM;AACdO,MAAAA,KAAK,2CAAoCF,IAApC,EAAL,CACCG,IADD,CACOC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADpB,EAECF,IAFD,CAEOG,WAAD,IAAiB;AACrBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,WAAZ;AACAX,QAAAA,QAAQ,CAAC;AACPG,UAAAA,IAAI,EAAE,kBADC;AAEPQ,UAAAA;AAFO,SAAD,CAAR;AAIA,eAAOA,WAAP;AACD,OATD,EAUCH,IAVD,CAUOG,WAAD,IAAiB;AACrB,YAAIA,WAAW,CAACG,MAAhB,EAAwB;AACtBF,UAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACA,gBAAMX,UAAU,GAAGI,KAAK,CAACS,MAAN,CAAaC,IAAI,IAAI;AACtC,mBAAOA,IAAI,CAACF,MAAL,CAAY,CAAZ,EAAeG,SAAf,KAA6BN,WAAW,CAACG,MAAZ,CAAmB,CAAnB,EAAsBG,SAA1D;AACD,WAFkB,CAAnB;AAGAjB,UAAAA,QAAQ,CAAC;AACPG,YAAAA,IAAI,EAAE,iBADC;AAEPD,YAAAA;AAFO,WAAD,CAAR;AAID;AACF,OArBD;AAwBD,KAzBO,CAAR;AA0BD,GAlCqC;;AAmCtCgB,EAAAA,cAAc,CAACP,WAAD,EAAc;AAC1BX,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAE,kBADC;AAEPQ,MAAAA;AAFO,KAAD,CAAR;AAID;;AAxCqC,CAAL,CAAnC;;AA2CA,MAAMQ,eAAe,GAAGC,KAAK,IAAI;AAC/B,SAAO;AACLd,IAAAA,KAAK,EAAEc,KAAK,CAACd,KADR;AAELK,IAAAA,WAAW,EAAES,KAAK,CAACT;AAFd,GAAP;AAID,CALD;;AAOA,eAAed,OAAO,CAACsB,eAAD,EAAkBpB,kBAAlB,CAAP,CAA6CD,WAA7C,CAAf","sourcesContent":["import { connect } from \"react-redux\";\nimport LoginMiddle from '../components/MainPage/LoginMiddle.js';\n\nconst mapDispatchToProps = dispatch => ({\n  setGroupUsers(groupUsers) {\n    dispatch({\n      type: 'SET_GROUP_USERS',\n      groupUsers\n    })\n  },\n  getCurrentUser(name, users) {\n    dispatch (() => {\n      fetch(`http://localhost:3000/api/users/${name}`)\n      .then((response) => response.json())\n      .then((currentUser) => {\n        console.log(currentUser);\n        dispatch({\n          type: 'SET_CURRENT_USER',\n          currentUser\n        })\n        return currentUser\n      })\n      .then((currentUser) => {\n        if (currentUser.groups) {\n          console.log('current user exists');\n          const groupUsers = users.filter(user => {\n            return user.groups[0].groupName === currentUser.groups[0].groupName;\n          })\n          dispatch({\n            type: 'SET_GROUP_USERS',\n            groupUsers\n          })\n        }\n      })\n\n\n    })\n  },\n  setCurrentUser(currentUser) {\n    dispatch({\n      type: 'SET_CURRENT_USER',\n      currentUser\n    })\n  }\n})\n\nconst mapStateToProps = state => {\n  return {\n    users: state.users,\n    currentUser: state.currentUser\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginMiddle);\n"]},"metadata":{},"sourceType":"module"}